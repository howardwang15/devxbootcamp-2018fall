(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{0:function(e,t,n){n("WWhP"),e.exports=n("HVBj")},"4uVO":function(e,t,n){},DigZ:function(e,t,n){},HVBj:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"getUserSuccess",function(){return B}),n.d(a,"getUser",function(){return J}),n.d(a,"createUserSuccess",function(){return z}),n.d(a,"createUser",function(){return Q}),n.d(a,"updateUserSuccess",function(){return Y}),n.d(a,"updateUser",function(){return F}),n.d(a,"getGrowlsSuccess",function(){return Z}),n.d(a,"getGrowls",function(){return q}),n.d(a,"createGrowlSuccess",function(){return K}),n.d(a,"resetGrowlCreationSuccess",function(){return ee}),n.d(a,"createGrowl",function(){return te}),n.d(a,"deleteGrowlSuccess",function(){return ne}),n.d(a,"deleteGrowl",function(){return ae}),n.d(a,"logInSuccess",function(){return re}),n.d(a,"logOutSuccess",function(){return le}),n.d(a,"logIn",function(){return se}),n.d(a,"logOut",function(){return ie});var r=n("mXGw"),l=n.n(r),s=n("xARA"),i=n.n(s),o=n("/m4v"),u=n("cnbf"),c=n("iIYa");function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){m(e,t,n[t])})}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const h={id:null,name:null,description:null};var p=(e=h,{type:t,payload:n})=>"GET_USER_SUCCESS"===t?d({},n):"CREATE_USER_SUCCESS"===t?d({},e,{id:n}):"UPDATE_USER_SUCCESS"===t?d({},e,n):e;function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){g(e,t,n[t])})}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const S={successfulCreation:null,growlsList:[]};var b=(e=S,{type:t,payload:n})=>"GET_GROWLS_SUCCESS"===t?E({},e,{growlsList:n}):"CREATE_GROWL_SUCCESS"===t?E({},e,{successfulCreation:!0}):"RESET_GROWL_CREATION_SUCCESS"===t?E({},e,{successfulCreation:null}):"DELETE_GROWL_SUCCESS"===t?E({},e,{growlsList:e.growlsList.filter(e=>e.id!==n.id)}):e;function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],a=!0,r=!1,l=void 0;try{for(var s,i=e[Symbol.iterator]();!(a=(s=i.next()).done)&&(n.push(s.value),!t||n.length!==t);a=!0);}catch(e){r=!0,l=e}finally{try{a||null==i.return||i.return()}finally{if(r)throw l}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}const w=()=>{const e=document.cookie,t={};return e.split(";").map(e=>{const n=f(e.trim().split("="),2),a=n[0],r=n[1];t[a]=r}),t},C=(e,t,n="/",a=31536e3)=>{document.cookie=`${e}=${t};path=${n};max-age=${a}`};function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){y(e,t,n[t])})}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const v={loggedIn:!1,userid:""};var T=(e=(()=>{const e=w(),t=e["auth-login-as"],n=!!e["auth-token"];return n&&t?O({},v,{loggedIn:n,userid:t}):v})(),{type:t,payload:n})=>{switch(t){case"LOGIN_SUCCESS":return O({},e,{loggedIn:!0,userid:n.userid});case"LOGOUT":return O({},e,{loggedIn:!1,userid:""});default:return e}},U=Object(u.c)({user:p,growls:b,auth:T});const _=[Object(u.a)(c.a)];window.__REDUX_DEVTOOLS_EXTENSION__&&_.push(window.__REDUX_DEVTOOLS_EXTENSION__());var L=Object(u.e)(U,void 0,Object(u.d)(..._)),N=(n("OSpC"),n("vtzz")),R=n("7+fG"),j=n("jf7e"),G=n("thVU"),x=n("czhI"),I=n.n(x);const D={users:"/api/users",growls:"/api/growls",login:"/api/auth/login"},k=D.users,P="GET",V={URL:D.users,METHOD:"POST"},A={URL:D.users,METHOD:"PUT"},H={URL:D.login,METHOD:"POST"},X={URL:D.growls,METHOD:"GET"},M={URL:D.growls,METHOD:"POST"},W=D.growls,$="DELETE",B=e=>({type:"GET_USER_SUCCESS",payload:e}),J=()=>(e,t)=>I()({method:P,url:`${k}/${t().auth.userid}`}).then(t=>{e(B(t.data.data))}),z=e=>({type:"CREATE_USER_SUCCESS",payload:e}),Q=e=>(t,n)=>I()({method:V.METHOD,url:V.URL,data:e}).then(e=>{t(z(e.data.data.id))}),Y=e=>({type:"UPDATE_USER_SUCCESS",payload:e}),F=()=>(e,t)=>I()({method:A.METHOD,url:A.URL}).then(t=>{e(Y(t.data))}),Z=e=>({type:"GET_GROWLS_SUCCESS",payload:e}),q=()=>(e,t)=>I()({method:X.METHOD,url:X.URL,params:{amount:1e3,offset:0}}).then(t=>{e(Z(t.data.data.growls))}),K=()=>({type:"CREATE_GROWL_SUCCESS"}),ee=()=>({type:"RESET_GROWL_CREATION_SUCCESS"}),te=(e,t=(()=>{}))=>(n,a)=>I()({method:M.METHOD,url:M.URL,data:{text:e}}).then(e=>{n(K()),n(q()),t(null,null),setTimeout(()=>{n(ee())},5e3)}),ne=()=>({type:"DELETE_GROWL_SUCCESS"}),ae=e=>(t,n)=>I()({method:$,url:`${W}/${e}`}).then(e=>{t(ne())}),re=e=>({type:"LOGIN_SUCCESS",payload:{loggedIn:!0,userid:e}}),le=()=>({type:"LOGOUT"}),se=(e,t,n)=>(n,a)=>I()({method:H.METHOD,url:H.URL,data:{email:e,password:t}}).then(e=>{const t=w(),a=t["auth-login-as"];!!t["auth-token"]&&a&&n(re(a))}),ie=()=>e=>{C("auth-token","invalid","/",0),C("auth-login-as","invalid","/",0),e(le())};n("UYjl");var oe=Object(o.b)(e=>({loggedIn:e.auth.loggedIn}),a)(e=>l.a.createElement("nav",{className:"navbar"},l.a.createElement("div",{className:"brand"},l.a.createElement(G.a,{to:"/"},"🐻 Growler")),l.a.createElement("div",{className:"links"},e.loggedIn&&l.a.createElement("button",{onClick:e.logOut,className:"link-item log-out"},l.a.createElement("h4",null,"Log Out")))));n("hdyi");var ue=({children:e})=>l.a.createElement("div",{className:"skeleton"},l.a.createElement("div",{className:"skeleton-navbar"},l.a.createElement(oe,null)),l.a.createElement("div",{className:"skeleton-inner-content"},e));class ce extends l.a.Component{constructor(e){super(e),this.state={name:"",email:"",password:"",description:""},this.handleValueChange=this.handleValueChange.bind(this),this.handleSubmit=this.handleSubmit.bind(this)}handleValueChange(e){const t=e.target,n=t.name,a=t.value;this.setState({[n]:a})}handleSubmit(){this.props.createUser({email:this.state.email,password:this.state.password,name:this.state.name,description:this.state.description})}render(){return l.a.createElement("div",{className:"sign-up-form"},l.a.createElement("div",null,l.a.createElement("label",null,"Email",l.a.createElement("input",{name:"email",type:"email",value:this.state.email,onChange:this.handleValueChange}))),l.a.createElement("div",null,l.a.createElement("label",null,"Password",l.a.createElement("input",{name:"password",type:"password",value:this.state.password,onChange:this.handleValueChange}))),l.a.createElement("div",null,l.a.createElement("label",null,"Name",l.a.createElement("input",{name:"name",type:"text",value:this.state.name,onChange:this.handleValueChange}))),l.a.createElement("div",null,l.a.createElement("label",null,"Description",l.a.createElement("input",{name:"description",type:"text",value:this.state.description,onChange:this.handleValueChange}))),l.a.createElement("input",{hidden:!0,type:"submit"}),l.a.createElement("button",{type:"submit",onClick:this.handleSubmit},"Sign Up"))}}var de=Object(o.b)(null,a)(class extends l.a.Component{constructor(e){super(e),this.state={email:"",password:""},this.handleValueChange=this.handleValueChange.bind(this),this.handleSubmit=this.handleSubmit.bind(this)}handleValueChange(e){const t=e.target,n=t.name,a=t.value;this.setState({[n]:a})}handleSubmit(){this.props.logIn(this.state.email,this.state.password)}render(){return l.a.createElement("div",{className:"sign-in-form"},l.a.createElement("div",null,l.a.createElement("label",null,"Email",l.a.createElement("input",{name:"email",type:"email",value:this.state.email,onChange:this.handleValueChange}))),l.a.createElement("div",null,l.a.createElement("label",null,"Password",l.a.createElement("input",{name:"password",type:"password",value:this.state.password,onChange:this.handleValueChange}))),l.a.createElement("input",{hidden:!0,type:"submit"}),l.a.createElement("button",{type:"submit",onClick:this.handleSubmit},"Sign In"))}});n("DigZ");var me=Object(o.b)(null,a)(class extends l.a.Component{constructor(...e){var t;return t=super(...e),this.state={signX:"in"},t}makeTabClassName(e){return`tab-selector-item ${this.state.signX===e&&"selected"}`}render(){const e={in:de,up:ce}[this.state.signX];return l.a.createElement("div",{className:"sign-in-page"},l.a.createElement("div",{className:"tab-selector"},l.a.createElement("div",{className:this.makeTabClassName("in"),onClick:()=>this.setState({signX:"in"})},"Sign In"),l.a.createElement("div",{className:this.makeTabClassName("up"),onClick:()=>this.setState({signX:"up"})},"Sign Up")),l.a.createElement("div",{className:"sign-x-form"},l.a.createElement(e,null)))}});var he=Object(o.b)(e=>({userid:e.auth.userid,loggedIn:e.auth.loggedIn}))(({userid:e,loggedIn:t,children:n})=>e&&t?n:l.a.createElement(me,null));n("lLQJ");var pe=Object(o.b)(null,a)(class extends l.a.Component{constructor(e){super(e),this.state={growlText:""},this.handleTextChange=this.handleTextChange.bind(this),this.handleSubmit=this.handleSubmit.bind(this)}handleTextChange(e){const t=e.target.value;this.setState({growlText:t})}handleSubmit(){return console.log(this.state.growlText),this.props.createGrowl(this.state.growlText,(e,t)=>{}),!1}render(){return l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement("input",{className:"growl-input",placeholder:"What's growling?",type:"text",value:this.state.growlText,onChange:this.handleTextChange}),l.a.createElement("input",{hidden:!0,type:"submit"}))}}),Ee=n("7VSQ"),ge=n.n(Ee);n("ilPo");var Se=({id:e,userId:t,text:n,createdAt:a})=>l.a.createElement("div",{className:"growl-card"},l.a.createElement("div",{className:"growl-meta"},l.a.createElement("p",{className:"growl-user-name"},t),a&&l.a.createElement("p",{className:"growl-created-at"},ge()(a,"mmm d, yyyy h:mm tt"))),l.a.createElement("p",{className:"growl-text"},n));n("LyTs");class be extends l.a.Component{constructor(e){super(e),e.getGrowls()}renderGrowl(e){return e?l.a.createElement(Se,{key:e.id,id:e.id,userId:e.user_id,text:e.text,createdAt:e.created_at}):null}render(){const e=this.props,t=e.growls,n=e.growlFilter;return l.a.createElement("div",{className:"growl-list"},t&&t.filter(n).map(this.renderGrowl))}}be.defaultProps={growls:[],growlFilter:e=>!0};var fe=Object(o.b)(e=>({growls:e.growls.growlsList}),a)(be);n("yXgB");var we=Object(o.b)(({user:e})=>({name:e.name,description:e.description}))(e=>l.a.createElement("div",{className:"profile-card"},l.a.createElement("h3",null,e.name),l.a.createElement("p",null,e.description)));n("4uVO");var Ce=Object(o.b)(null,a)(class extends l.a.Component{componentDidMount(){this.props.getUser()}render(){return l.a.createElement("div",{className:"home-page"},l.a.createElement("div",{className:"home-page-profile-section"},l.a.createElement(we,null)),l.a.createElement("div",{className:"growl-feed-block"},l.a.createElement(pe,null),l.a.createElement(fe,null)))}});i.a.render(l.a.createElement(o.a,{store:L},l.a.createElement(e=>l.a.createElement("div",null,l.a.createElement(N.a,null,l.a.createElement(ue,null,l.a.createElement(he,null,l.a.createElement(R.a,null,l.a.createElement(j.a,{exact:!0,path:"/",component:Ce})))))),null)),document.getElementById("mount"))},LyTs:function(e,t,n){},OSpC:function(e,t,n){},UYjl:function(e,t,n){},hdyi:function(e,t,n){},ilPo:function(e,t,n){},lLQJ:function(e,t,n){},yXgB:function(e,t,n){}},[[0,2,1]]]);