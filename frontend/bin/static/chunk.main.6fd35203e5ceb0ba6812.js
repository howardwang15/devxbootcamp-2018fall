(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{0:function(e,t,a){a("WWhP"),e.exports=a("HVBj")},"4uVO":function(e,t,a){},DigZ:function(e,t,a){},HVBj:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"getUserSuccess",function(){return F}),a.d(n,"getUser",function(){return B}),a.d(n,"createUserSuccess",function(){return J}),a.d(n,"createUser",function(){return z}),a.d(n,"updateUserSuccess",function(){return Q}),a.d(n,"updateUser",function(){return Y}),a.d(n,"getGrowlsSuccess",function(){return Z}),a.d(n,"getGrowls",function(){return q}),a.d(n,"createGrowlSuccess",function(){return K}),a.d(n,"resetGrowlCreationSuccess",function(){return ee}),a.d(n,"createGrowl",function(){return te}),a.d(n,"deleteGrowlSuccess",function(){return ae}),a.d(n,"deleteGrowl",function(){return ne}),a.d(n,"logInSuccess",function(){return re}),a.d(n,"logOutSuccess",function(){return le}),a.d(n,"logIn",function(){return se}),a.d(n,"logOut",function(){return ie});var r=a("mXGw"),l=a.n(r),s=a("xARA"),i=a.n(s),o=a("/m4v"),c=a("cnbf"),u=a("iIYa");function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),n.forEach(function(t){m(e,t,a[t])})}return e}function m(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const h={id:null,name:null,description:null};var p=(e=h,{type:t,payload:a})=>"GET_USER_SUCCESS"===t?d({},a):"CREATE_USER_SUCCESS"===t?d({},e,{id:a}):"UPDATE_USER_SUCCESS"===t?d({},e,a):e;new Date("Fri Oct 12 2018 21:40:00 GMT-0700 (Pacific Daylight Time)"),new Date("Fri Oct 12 2018 21:37:00 GMT-0700 (Pacific Daylight Time)"),new Date("Fri Oct 11 2018 21:37:00 GMT-0700 (Pacific Daylight Time)"),new Date("Fri Oct 10 2018 11:37:00 GMT-0700 (Pacific Daylight Time)");function E(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),n.forEach(function(t){g(e,t,a[t])})}return e}function g(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const S={successfulCreation:null,growlsList:[]};var b=(e=S,{type:t,payload:a})=>"GET_GROWLS_SUCCESS"===t?E({},e,{growlsList:a}):"CREATE_GROWL_SUCCESS"===t?E({},e,{successfulCreation:!0}):"RESET_GROWL_CREATION_SUCCESS"===t?E({},e,{successfulCreation:null}):"DELETE_GROWL_SUCCESS"===t?E({},e,{growlsList:e.growlsList.filter(e=>e.id!==a.id)}):e;function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],n=!0,r=!1,l=void 0;try{for(var s,i=e[Symbol.iterator]();!(n=(s=i.next()).done)&&(a.push(s.value),!t||a.length!==t);n=!0);}catch(e){r=!0,l=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw l}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}const w=()=>{const e=document.cookie,t={};return e.split(";").map(e=>{const a=f(e.trim().split("="),2),n=a[0],r=a[1];t[n]=r}),t},O=(e,t,a="/",n=31536e3)=>{document.cookie=`${e}=${t};path=${a};max-age=${n}`};function C(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),n.forEach(function(t){y(e,t,a[t])})}return e}function y(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const v={loggedIn:!1,userId:null};var T=(e=(()=>{const e=w(),t=e["auth-login-as"],a=!!e["auth-token"];return a&&t?C({},v,{loggedIn:a,userId:t}):v})(),{type:t,payload:a})=>{switch(t){case"LOGIN_SUCCESS":return C({},e,{loggedIn:!0,userId:a.userId});case"LOGOUT":return C({},e,v);default:return e}},U=Object(c.c)({user:p,growls:b,auth:T});const _=[Object(c.a)(u.a)];window.__REDUX_DEVTOOLS_EXTENSION__&&_.push(window.__REDUX_DEVTOOLS_EXTENSION__());var N=Object(c.e)(U,void 0,Object(c.d)(..._)),I=(a("OSpC"),a("vtzz")),L=a("7+fG"),G=a("jf7e"),R=a("thVU"),D=a("czhI"),j=a.n(D);const x={users:"/api/users",growls:"/api/growls",login:"/api/auth/login"},P=x.users,k="GET",V={URL:x.users,METHOD:"POST"},M={URL:x.users,METHOD:"PUT"},A={URL:x.login,METHOD:"POST"},H={URL:x.growls,METHOD:"GET"},X={URL:x.growls,METHOD:"POST"},W=x.growls,$="DELETE",F=e=>({type:"GET_USER_SUCCESS",payload:e}),B=()=>(e,t)=>j()({method:k,url:`${P}/${t().auth.userId}`}).then(t=>{e(F(t.data.data))}),J=e=>({type:"CREATE_USER_SUCCESS",payload:e}),z=e=>(t,a)=>j()({method:V.METHOD,url:V.URL,data:e}).then(e=>{t(J(e.data.data.id))}),Q=e=>({type:"UPDATE_USER_SUCCESS",payload:e}),Y=()=>(e,t)=>j()({method:M.METHOD,url:M.URL}).then(t=>{e(Q(t.data))}),Z=e=>({type:"GET_GROWLS_SUCCESS",payload:e}),q=()=>(e,t)=>j()({method:H.METHOD,url:H.URL,params:{amount:1e3,offset:0}}).then(t=>{e(Z(t.data.data.growls))}),K=()=>({type:"CREATE_GROWL_SUCCESS"}),ee=()=>({type:"RESET_GROWL_CREATION_SUCCESS"}),te=(e,t=(()=>{}))=>(a,n)=>j()({method:X.METHOD,url:X.URL,data:{text:e,user_id:n().auth.userId}}).then(e=>{a(K()),a(q()),t(null,null),setTimeout(()=>{a(ee())},5e3)}),ae=()=>({type:"DELETE_GROWL_SUCCESS"}),ne=e=>(t,a)=>j()({method:$,url:`${W}/${e}`}).then(e=>{t(ae())}),re=e=>({type:"LOGIN_SUCCESS",payload:{loggedIn:!0,userId:e}}),le=()=>({type:"LOGOUT"}),se=(e,t,a)=>(a,n)=>j()({method:A.METHOD,url:A.URL,data:{email:e,password:t}}).then(e=>{const t=w(),n=t["auth-login-as"];!!t["auth-token"]&&n&&a(re(n))}),ie=()=>e=>{O("auth-token","invalid","/",0),O("auth-login-as","invalid","/",0),e(le())};a("UYjl");var oe=Object(o.b)(e=>({loggedIn:e.auth.loggedIn}),n)(e=>l.a.createElement("nav",{className:"navbar"},l.a.createElement("div",{className:"brand"},l.a.createElement(R.a,{to:"/"},"🐻 Growler")),l.a.createElement("div",{className:"links"},e.loggedIn&&l.a.createElement("button",{onClick:e.logOut,className:"link-item log-out"},l.a.createElement("h4",null,"Log Out")))));a("hdyi");var ce=({children:e})=>l.a.createElement("div",{className:"skeleton"},l.a.createElement("div",{className:"skeleton-navbar"},l.a.createElement(oe,null)),l.a.createElement("div",{className:"skeleton-inner-content"},e));class ue extends l.a.Component{constructor(e){super(e),this.state={name:"",email:"",password:"",description:""},this.handleValueChange=this.handleValueChange.bind(this),this.handleSubmit=this.handleSubmit.bind(this)}handleValueChange(e){const t=e.target,a=t.name,n=t.value;this.setState({[a]:n})}handleSubmit(){this.props.createUser({email:this.state.email,password:this.state.password,name:this.state.name,description:this.state.description})}render(){return l.a.createElement("div",{className:"sign-up-form"},l.a.createElement("div",null,l.a.createElement("label",null,"Email",l.a.createElement("input",{name:"email",type:"email",value:this.state.email,onChange:this.handleValueChange}))),l.a.createElement("div",null,l.a.createElement("label",null,"Password",l.a.createElement("input",{name:"password",type:"password",value:this.state.password,onChange:this.handleValueChange}))),l.a.createElement("div",null,l.a.createElement("label",null,"Name",l.a.createElement("input",{name:"name",type:"text",value:this.state.name,onChange:this.handleValueChange}))),l.a.createElement("div",null,l.a.createElement("label",null,"Description",l.a.createElement("input",{name:"description",type:"text",value:this.state.description,onChange:this.handleValueChange}))),l.a.createElement("input",{hidden:!0,type:"submit"}),l.a.createElement("button",{type:"submit",onClick:this.handleSubmit},"Sign Up"))}}var de=Object(o.b)(null,n)(class extends l.a.Component{constructor(e){super(e),this.state={email:"",password:""},this.handleValueChange=this.handleValueChange.bind(this),this.handleSubmit=this.handleSubmit.bind(this)}handleValueChange(e){const t=e.target,a=t.name,n=t.value;this.setState({[a]:n})}handleSubmit(){this.props.logIn(this.state.email,this.state.password)}render(){return l.a.createElement("div",{className:"sign-in-form"},l.a.createElement("div",null,l.a.createElement("label",null,"Email",l.a.createElement("input",{name:"email",type:"email",value:this.state.email,onChange:this.handleValueChange}))),l.a.createElement("div",null,l.a.createElement("label",null,"Password",l.a.createElement("input",{name:"password",type:"password",value:this.state.password,onChange:this.handleValueChange}))),l.a.createElement("input",{hidden:!0,type:"submit"}),l.a.createElement("button",{type:"submit",onClick:this.handleSubmit},"Sign In"))}});a("DigZ");var me=Object(o.b)(null,n)(class extends l.a.Component{constructor(...e){var t;return t=super(...e),this.state={signX:"in"},t}makeTabClassName(e){return`tab-selector-item ${this.state.signX===e&&"selected"}`}render(){const e={in:de,up:ue}[this.state.signX];return l.a.createElement("div",{className:"sign-in-page"},l.a.createElement("div",{className:"tab-selector"},l.a.createElement("div",{className:this.makeTabClassName("in"),onClick:()=>this.setState({signX:"in"})},"Sign In"),l.a.createElement("div",{className:this.makeTabClassName("up"),onClick:()=>this.setState({signX:"up"})},"Sign Up")),l.a.createElement("div",{className:"sign-x-form"},l.a.createElement(e,null)))}});var he=Object(o.b)(e=>({userId:e.auth.userId,loggedIn:e.auth.loggedIn}))(({userId:e,loggedIn:t,children:a})=>e&&t?a:l.a.createElement(me,null));a("lLQJ");var pe=Object(o.b)(null,n)(class extends l.a.Component{constructor(e){super(e),this.state={growlText:""},this.handleTextChange=this.handleTextChange.bind(this),this.handleSubmit=this.handleSubmit.bind(this)}handleTextChange(e){const t=e.target.value;this.setState({growlText:t})}handleSubmit(){return console.log(this.state.growlText),this.props.createGrowl(this.state.growlText,(e,t)=>{}),!1}render(){return l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement("input",{className:"growl-input",placeholder:"What's growling?",type:"text",value:this.state.growlText,onChange:this.handleTextChange}),l.a.createElement("input",{hidden:!0,type:"submit"}))}}),Ee=a("7VSQ"),ge=a.n(Ee);a("ilPo");var Se=({id:e,userId:t,userName:a,text:n,createdAt:r})=>l.a.createElement("div",{className:"growl-card"},l.a.createElement("div",{className:"growl-meta"},l.a.createElement("p",{className:"growl-user-name"},a),r&&l.a.createElement("p",{className:"growl-created-at"},ge()(r,"mmm d, yyyy h:MM tt"))),l.a.createElement("p",{className:"growl-text"},n));a("LyTs");class be extends l.a.Component{constructor(e){super(e),e.getGrowls()}render(){return l.a.createElement("div",{className:"growl-list"},this.props.growls.filter(this.props.growlFilter).map(e=>l.a.createElement(Se,{key:e.id,id:e.id,userId:e.user_id,userName:e.user_name,text:e.text,createdAt:e.created_at})))}}be.defaultProps={growls:[],growlFilter:e=>!0};var fe=Object(o.b)(e=>({growls:e.growls.growlsList}),{getGrowls:q})(be);a("yXgB");var we=e=>l.a.createElement("div",{className:"profile-card"},l.a.createElement("h3",null,e.name),l.a.createElement("p",null,e.description));a("4uVO");var Oe=Object(o.b)(e=>({name:e.user.name,description:e.user.description}),{getUser:B})(class extends l.a.Component{componentDidMount(){this.props.getUser()}render(){return l.a.createElement("div",{className:"home-page"},l.a.createElement("div",{className:"home-page-profile-section"},l.a.createElement(we,{name:this.props.name,description:this.props.description})),l.a.createElement("div",{className:"home-page-growl-feed-section"},l.a.createElement(pe,null),l.a.createElement(fe,null)))}});i.a.render(l.a.createElement(o.a,{store:N},l.a.createElement(e=>l.a.createElement("div",null,l.a.createElement(I.a,null,l.a.createElement(ce,null,l.a.createElement(he,null,l.a.createElement(L.a,null,l.a.createElement(G.a,{exact:!0,path:"/",component:Oe})))))),null)),document.getElementById("mount"))},LyTs:function(e,t,a){},OSpC:function(e,t,a){},UYjl:function(e,t,a){},hdyi:function(e,t,a){},ilPo:function(e,t,a){},lLQJ:function(e,t,a){},yXgB:function(e,t,a){}},[[0,2,1]]]);